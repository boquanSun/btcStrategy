<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Results | BTC strategy visualization</title>
  <meta name="description" content="Chapter 5 Results | BTC strategy visualization" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Results | BTC strategy visualization" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Results | BTC strategy visualization" />
  
  
  

<meta name="author" content="Boquan Sun, Zonghan Yue and Wen Zhan" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="missing-values.html"/>
<link rel="next" href="interactive-component.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">btc</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-is-basis"><i class="fa fa-check"></i><b>1.1</b> What is basis?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#future-market-in-crypto"><i class="fa fa-check"></i><b>1.2</b> Future market in Crypto</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#what-is-perpetual-swap-and-future-swap"><i class="fa fa-check"></i><b>1.2.1</b> What is perpetual swap and future swap?</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#what-is-funding-rate"><i class="fa fa-check"></i><b>1.2.2</b> What is Funding Rate?</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#why-future-markets"><i class="fa fa-check"></i><b>1.2.3</b> Why future markets?</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#example"><i class="fa fa-check"></i><b>1.2.4</b> Example:</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#how-to-trade-by-basis-hedge"><i class="fa fa-check"></i><b>1.3</b> How to trade by basis? Hedge</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#explaination"><i class="fa fa-check"></i><b>1.3.1</b> Explaination:</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#main-idea"><i class="fa fa-check"></i><b>1.3.2</b> Main Idea</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#fundamental-analysis-on-btc-long-term-price"><i class="fa fa-check"></i><b>1.4</b> Fundamental Analysis on BTC long-term price</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#crawling-datasets"><i class="fa fa-check"></i><b>2.1</b> Crawling Datasets</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#data-contents"><i class="fa fa-check"></i><b>2.2</b> Data Contents</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-sources.html"><a href="data-sources.html#future-market-price"><i class="fa fa-check"></i><b>2.2.1</b> Future Market Price</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-sources.html"><a href="data-sources.html#on-chain-data-set"><i class="fa fa-check"></i><b>2.2.2</b> On-chain Data Set</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-sources.html"><a href="data-sources.html#fundmental-dataset"><i class="fa fa-check"></i><b>2.2.3</b> Fundmental Dataset</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#calcuate-the-basis"><i class="fa fa-check"></i><b>3.1</b> Calcuate the basis:</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-transformation.html"><a href="data-transformation.html#open-btc-perpetual-swap-datasets"><i class="fa fa-check"></i><b>3.1.1</b> Open BTC perpetual-swap datasets</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-transformation.html"><a href="data-transformation.html#open-btc-future-swap-datasets"><i class="fa fa-check"></i><b>3.1.2</b> Open btc future swap datasets</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-transformation.html"><a href="data-transformation.html#calculate-the-basis"><i class="fa fa-check"></i><b>3.1.3</b> Calculate the % basis</a></li>
<li class="chapter" data-level="3.1.4" data-path="data-transformation.html"><a href="data-transformation.html#calculate-annual-basis"><i class="fa fa-check"></i><b>3.1.4</b> Calculate Annual Basis:</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#fear-index"><i class="fa fa-check"></i><b>3.2</b> Fear Index</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#funding-rate"><i class="fa fa-check"></i><b>3.3</b> Funding Rate</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-transformation.html"><a href="data-transformation.html#funding-rate-1"><i class="fa fa-check"></i><b>3.3.1</b> Funding rate</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#daily-volatility"><i class="fa fa-check"></i><b>3.4</b> Daily Volatility</a></li>
<li class="chapter" data-level="3.5" data-path="data-transformation.html"><a href="data-transformation.html#whale-1"><i class="fa fa-check"></i><b>3.5</b> Whale</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#how-to-pick-the-right-time-longshort-basis"><i class="fa fa-check"></i><b>5.1</b> How to pick the right time long/short basis?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#funding-rate-vs-basis"><i class="fa fa-check"></i><b>5.1.1</b> funding rate vs basis</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#accumulation-of-funding-rate-vs-basis"><i class="fa fa-check"></i><b>5.1.2</b> Accumulation of funding rate vs basis</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#trading-return"><i class="fa fa-check"></i><b>5.1.3</b> Trading Return</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#the-factors-affect-the-long-term-basis-trading-return"><i class="fa fa-check"></i><b>5.2</b> The factors affect the long term basis trading return</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#market-emotional"><i class="fa fa-check"></i><b>5.2.1</b> Market Emotional</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#volatility-vs-trading-return"><i class="fa fa-check"></i><b>5.2.2</b> Volatility vs Trading Return</a></li>
<li class="chapter" data-level="5.2.3" data-path="results.html"><a href="results.html#anuual-basis-vs-return-per-risk"><i class="fa fa-check"></i><b>5.2.3</b> Anuual basis vs return per risk</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#how-fundamental-affect-crypto-market"><i class="fa fa-check"></i><b>5.3</b> How fundamental affect crypto market?</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#whale-accumulation"><i class="fa fa-check"></i><b>5.3.1</b> Whale Accumulation</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#long-term-holder-behaviors"><i class="fa fa-check"></i><b>5.3.2</b> Long Term Holder Behaviors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#d3-interactive-graph-httpsobservablehq.comboquansund3-candlestick-chart"><i class="fa fa-check"></i><b>6.1</b> d3 interactive graph: <span>https://observablehq.com/@boquansun/d3-candlestick-chart</span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conclusion.html"><a href="conclusion.html#some-limitation"><i class="fa fa-check"></i><b>7.1</b> some limitation</a></li>
<li class="chapter" data-level="7.2" data-path="conclusion.html"><a href="conclusion.html#future-plan"><i class="fa fa-check"></i><b>7.2</b> future plan</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">BTC strategy visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="results" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Results</h1>
<p>Basis trading rate of return mainly consists of two parts: earn/loss from funding rate, earn/loss from basis.</p>
<p>Funding rate: as we mentioned in the introduction, funding rate is extremely important in the basis trading. The main idea of the basis trading is hedging, thus we have to open long positions and short positions at the same time. We have to use the perpetual swap to add leverages, so the accumulation of funding rate with high leverage would be a large amount of money.</p>
<p>Basis: as we mentioned in the introduction, basis is the ratio of price difference between future swap and perpetual swap. It is calculated by (future_swap_price - perpetual_swap_price) / perpetual_swap_price.</p>
<p>When hedging, we will long basis or short basis. There, funding rates are unknown variables, but the basis is known. Long basis means we would lose money when basis is decreasing and earn money when funding rate is positive. When we short basis, we have to pay when the funding rate is positive but profit after the basis decreases.</p>
<p>In the results part, we would introduce how to long/short basis if you want long term hold. In the interactive, we would introduce how to long/short basis for short term hold.</p>
<div id="how-to-pick-the-right-time-longshort-basis" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> How to pick the right time long/short basis?</h2>
<p>We defined “BTC contract 210924” as bear market condition, “BTC contract 210326” as bull market and ploted basis vs funding rate under different market conditions.</p>
<div id="funding-rate-vs-basis" class="section level3" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> funding rate vs basis</h3>
<p><img src="finalproj_files/figure-html/fig3-1.png" width="480" /></p>
<p>The higher funding rate accompanies a high basis. Every time the basis got a sudden drop, the funding rate would drop below 0.1%. Under extreme market condition, like May 18, accompanied with 30% drop of btc price, the funding rate turned into negative for several days.</p>
<p>Also, as mentioned in the introduction, the value of basis is highly related to the remaining days of the contract. Even though the funding fee is extremely high at the tail of the contract, the basis would still gradually converge to zero.</p>
</div>
<div id="accumulation-of-funding-rate-vs-basis" class="section level3" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Accumulation of funding rate vs basis</h3>
<p>The accumulation of funding rate is calculated as the sum of funding rate from today until the expiration date. It directly represents how much we pay/earn by the funding rate.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-3-1.png" width="672" />
In a bull market, the accumulation of funding rate is never lower than the basis. If we kept longing basis until the expiration of the contract, the return would be calculated as (“accumulation_of_funding_rate” - “basis”). Thus, in the bull market, the long term holding the basis would be a wise decision.</p>
<p>However, the sudden drop of price would lead to serious loss. From the figure, when market crashed in May, the long basis position will suffer huge loss.</p>
</div>
<div id="trading-return" class="section level3" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> Trading Return</h3>
<p>If our trading strategy designed as using 2*leverage to long the basis on bear market/bull market and holding until the contract expired, the return ratio would look at below.
<img src="finalproj_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>The return means if you long basis in that date, you will receive % return when the contract expired.</p>
<p>From the figures, we know that if we want long term holding position, the return ratio highly depends on the market conditions. Because the maximum leverage in crypto market is 125, if we know the right time to enter the market, the basis trading will be very profitable.</p>
<p>The figures above tell us don’t short the basis in bull market. Shorting basis can make profit when whole market crushed, but it is not a good idea to long term holding short basis position when the basis is not so high due to accumulating of funding rate is huge.</p>
</div>
</div>
<div id="the-factors-affect-the-long-term-basis-trading-return" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> The factors affect the long term basis trading return</h2>
<p>The main idea of our trading strategy is to find the right time to open the basis trading position. We explore basis trading return from three different aspects: Market Emotion, History Basis and Volatility.</p>
<div id="market-emotional" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Market Emotional</h3>
<p>Use fear-and-greed index to describe the Market emotion</p>
<p>The fear-and-greed index was produced by analyzing the current sentiment of the Bitcoin market and crunch the numbers into a simple meter from 0 to 100. Zero means “Extreme Fear”, while 100 means “Extreme Greed”.
#### Fear index vs Funding rate
<img src="finalproj_files/figure-html/unnamed-chunk-5-1.png" width="672" />
In the figure, the x-axis is the value of fear index, the y-axis is the average funding rate group by fear index. Under more than 480 samples, the linear regression get R-square is more 7.7. Thus, we can tell that there is strong positive correlation between fear index and funding rate.</p>
<div id="fear-index-vs-return-per-risk" class="section level4" number="5.2.1.1">
<h4><span class="header-section-number">5.2.1.1</span> Fear index vs Return per risk</h4>
<p>In extreme fear market(fear index &lt; 30), the average funding rate in 40 days is around 0. Thus, we will assume the funding rate is around 0 in fear market.</p>
<p>The risk of long-term-holding the long basis position can be calculated. Going long basis, the known risk is the current basis and the unknown risk is the future funding rate. Based on pre-calculating, the funding rate is nearly zero in fear market. Thus, the main risk on basis trading is the basis. The pleasant time to open the position is low basis and high final return.</p>
<p>Thus, we use return_per_risk = “final return” / “basis”, if final_return &lt; 0, then final_return = 0</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-6-1.png" width="672" />
The figure is not that so persuasive, but we still can see that in bull market, the lower fear index, the higher return ratio per risk.</p>
</div>
</div>
<div id="volatility-vs-trading-return" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Volatility vs Trading Return</h3>
<p>Volatility is the degree of variation of a trading price series over time. We assume when the volatility is extreme high, many position in crypto market would be liquidated which would lead to extreme basis.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-7-1.png" width="672" />
From the figure, we can see that in the bull market, lower the volatility represents higher return per risk. High Volatility in bull market might from the sudden increase of the price, then the basis would increase and then led low return per risk.</p>
</div>
<div id="anuual-basis-vs-return-per-risk" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Anuual basis vs return per risk</h3>
<p>Anuual basis was designed to eliminate the effect of expiration date. It is a better indicator than the original basis.</p>
<p>Anuual basis = basis / remain date * 365</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>The annual basis seems a good estimator of the return per risk. From the figure we can see, the smaller annual basis is, the higher return per risk even in bear market.</p>
</div>
</div>
<div id="how-fundamental-affect-crypto-market" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> How fundamental affect crypto market?</h2>
<div id="whale-accumulation" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Whale Accumulation</h3>
<p><img src="finalproj_files/figure-html/unnamed-chunk-9-1.png" width="1152" /></p>
<p>Setting the threshold to 1000, that is, investors holding 1000 BTC or more are considered as whales, and we get the line chart above. As we try to make our exploration more instructive to reality, we focus data after Oct 2020, which is the most recent and the price of BTC changed fluently. As we can see, basically， the buying of whales indicates the increment of BTC price.</p>
<p>Let us track more detailedly At the end of 2020, whales tended to buy BTC in Oct, Nov, Dec three periods, and then the price increased consistently around the January 2021. Later, the amount of BTC held by whales increased rapidly in the middle of Jan, which is not quite common. Meanwhile, BTC price went through a long term rise, which lasted until Apr 2021. After that, several whales’ buying trends in late April and early Jun both corresponded to a rise, or a stopped decline. Then, what we have to notice is the whales’ buying in Jul 2021, which may not be quite large amount but still lasted for a considerable period. It could actually tell the rebound of BTC price after mid July.</p>
<p>At last, the number of BTC held by whales increased again after late September and late October this year. Although this may not be persuasive enough to be an evidence because we still need more time to verify, while the price does go up generally in current.</p>
</div>
<div id="long-term-holder-behaviors" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Long Term Holder Behaviors</h3>
<p><img src="finalproj_files/figure-html/unnamed-chunk-10-1.png" width="1152" /></p>
<p>After plotting supply of LTH with BTC price, we can see a rule that LTH tend to start selling down the get profit soon after bull market arrives and accumulate BTC during bear market. We can clearly see such rule in the data at the end of 2017 and the start of 2018. Actually, more recently, the rule still held from the end of 2018 to the mid of 2021. However, after that, it turns out to be different because the number of BTC held by LTH increased as BTC price rose. We assume that LTH still remain optimistic toward BTC market ar present and also, probably more and more people are inclined to be more patient and join as a LTH.</p>
<p>In conclusion, through observing and summarizing historical behavior of whales and long-term holders, we can understand more about the market rules better and design a better strategy</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="missing-values.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interactive-component.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/boquanSun/btcStrategy/edit/main/05-results.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/boquanSun/btcStrategy/blob/main/05-results.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
