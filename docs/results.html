<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Results | BTC strategy visualization</title>
  <meta name="description" content="Chapter 5 Results | BTC strategy visualization" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Results | BTC strategy visualization" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Results | BTC strategy visualization" />
  
  
  

<meta name="author" content="Boquan Sun, Zonghan Yue and Wen Zhan" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="missing-values.html"/>
<link rel="next" href="interactive-component.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">btc</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-is-basis"><i class="fa fa-check"></i><b>1.1</b> What is basis?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#future-market-in-crypto"><i class="fa fa-check"></i><b>1.2</b> Future market in Crypto</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#what-is-perpetual-swap-and-future-swap"><i class="fa fa-check"></i><b>1.2.1</b> What is perpetual swap and future swap?</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#what-is-funding-rate"><i class="fa fa-check"></i><b>1.2.2</b> What is Funding Rate?</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#why-future-markets"><i class="fa fa-check"></i><b>1.2.3</b> Why future markets?</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#example"><i class="fa fa-check"></i><b>1.2.4</b> Example:</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#how-to-trade-by-basis-hedge"><i class="fa fa-check"></i><b>1.3</b> How to trade by basis?? Hedge!</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#explaination"><i class="fa fa-check"></i><b>1.3.1</b> Explaination:</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#main-idea"><i class="fa fa-check"></i><b>1.3.2</b> Main Idea</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#crawling-datasets"><i class="fa fa-check"></i><b>2.1</b> Crawling Datasets</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#data-contents"><i class="fa fa-check"></i><b>2.2</b> Data Contents</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-sources.html"><a href="data-sources.html#future-market-price"><i class="fa fa-check"></i><b>2.2.1</b> Future Market Price</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-sources.html"><a href="data-sources.html#on-chain-data-set"><i class="fa fa-check"></i><b>2.2.2</b> On-chain Data Set</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-sources.html"><a href="data-sources.html#fundmental-dataset"><i class="fa fa-check"></i><b>2.2.3</b> Fundmental Dataset</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#calcuate-the-basis"><i class="fa fa-check"></i><b>3.1</b> Calcuate the basis:</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-transformation.html"><a href="data-transformation.html#open-btc-perpetual-swap-datasets"><i class="fa fa-check"></i><b>3.1.1</b> Open BTC perpetual-swap datasets</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-transformation.html"><a href="data-transformation.html#open-btc-future-swap-datasets"><i class="fa fa-check"></i><b>3.1.2</b> Open btc future swap datasets</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-transformation.html"><a href="data-transformation.html#calculate-the-basis"><i class="fa fa-check"></i><b>3.1.3</b> Calculate the % basis</a></li>
<li class="chapter" data-level="3.1.4" data-path="data-transformation.html"><a href="data-transformation.html#calculate-annual-basis"><i class="fa fa-check"></i><b>3.1.4</b> Calculate Annual Basis:</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#fear-index"><i class="fa fa-check"></i><b>3.2</b> Fear Index</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#funding-rate"><i class="fa fa-check"></i><b>3.3</b> Funding Rate</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-transformation.html"><a href="data-transformation.html#funding-rate-1"><i class="fa fa-check"></i><b>3.3.1</b> Funding rate</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#daily-volatility"><i class="fa fa-check"></i><b>3.4</b> Daily Volatility</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#how-does-the-market-emotion-affect-the-funding-rate"><i class="fa fa-check"></i><b>5.1</b> How does the market emotion affect the Funding Rate?</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#how-does-the-changes-in-market-affect-basis"><i class="fa fa-check"></i><b>5.2</b> How does the changes in market affect basis?</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#funding-rate-2"><i class="fa fa-check"></i><b>5.2.1</b> Funding Rate</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#fear-and-greed-index"><i class="fa fa-check"></i><b>5.2.2</b> Fear and Greed index</a></li>
<li class="chapter" data-level="5.2.3" data-path="results.html"><a href="results.html#consecutive-extreme-market-days-vs-funding-rate"><i class="fa fa-check"></i><b>5.2.3</b> Consecutive extreme market days vs funding rate</a></li>
<li class="chapter" data-level="5.2.4" data-path="results.html"><a href="results.html#consecutive-greed-days-vs-funding-rate"><i class="fa fa-check"></i><b>5.2.4</b> Consecutive greed days vs funding rate</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#basis"><i class="fa fa-check"></i><b>5.3</b> Basis</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#fear-index-vs-basis"><i class="fa fa-check"></i><b>5.3.1</b> Fear index vs Basis</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#run-model"><i class="fa fa-check"></i><b>5.3.2</b> Run Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">BTC strategy visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="results" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Results</h1>
<div id="how-does-the-market-emotion-affect-the-funding-rate" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> How does the market emotion affect the Funding Rate?</h2>
<p>Funding rates are periodic payments between traders to make the perpetual futures contract price is close to the index price. It is a result of market behaviors and could be used to maker some interpretation in the derivative market which also is a dominant price maker in the market. In the bull market, it have a tendency to naturally bring high funding rates with price rise.</p>
<p>fear-and-greed index was produced analyzing the current sentiment of the Bitcoin market and crunch the numbers into a simple meter from 0 to 100. Zero means “Extreme Fear”, while 100 means “Extreme Greed”.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-3-1.png" width="672" />
In the figure, the x-axis is the value of fear index, the y-axis is the average funding rate group by fear index. There are more than 480 samples in data set. R-square is more 7.7 and the figure shows the strong linear relationship between fear index and funding rate. Thus, we can tell the strong positive correlation between fear index and funding rate. The greedy the market is, the higher funding rate would be.</p>
</div>
<div id="how-does-the-changes-in-market-affect-basis" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> How does the changes in market affect basis?</h2>
<p>The basis is the decisive factor in our trading strategy. We would like to analyse the current basis from three different aspects: market emotion, calibrated basis, market volatility.</p>
<p>Market Emotion: we use fear &amp; greed index and funding rate to represent the market emotion. Fear index are designed to quantify the market emotion, and the funding rate is also a indicator to describe traders’ sentiments, especially in derivative market.</p>
<p>Calibrated basis: calibrated basis is calculate by basis / days remaining * 365. It is named “annual basis”. Annual basis eliminates the impact from expiration date and can be used to compare current basis with history basis.</p>
<p>Volatility: volatility is the degree of variation of a trading price series over time. We assume when the volatility is extreme high, many position in crypto market would be liquidated which would lead to extreme basis.</p>
<div id="funding-rate-2" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Funding Rate</h3>
<p>We would look at how the changes affect basis in bear markets. We use the history data of “BTC contract 210924” as bear market condition and “BTC contract 210924” as
<img src="finalproj_files/figure-html/fig3-1.png" width="480" />
Based on two figures, the relationship between funding rate and basis can be easy observed. The higher funding rate seems accompanied with high basis. Also, as mentioned in the introduction, the value of basis is highly related to the remaining days of the contract. Thus, even though the funding fee extreme high at the tail of contract, the basis would still gradually converge to zero.</p>
<p>However, the kind information is not that useful for trading. We also plot the basis vs the accumulation of funding rate. The accumulation of funding rate is calculated as the sum of funding rate from today until the expiration date.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-4-1.png" width="672" />
In bull market, the accumulation of funding rate never lower than basis. However, in bear market, the accumulation of funding rate would lower than basis, especially when the price drop suddenly.</p>
<p>Thus, we can conclude the first rule in our trading strategy. Don’t short the basis in bull market or long the basis in bear market.</p>
<p>However, how can we quantify the current market is bull or bear? Fear index!</p>
</div>
<div id="fear-and-greed-index" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Fear and Greed index</h3>
<p><img src="finalproj_files/figure-html/unnamed-chunk-5-1.png" width="672" />
Based on two figures, the relationship between funding rate and basis can be easy observed. The higher funding rate seems accompanied with high basis. Also, as mentioned in the introduction, the value of basis is highly related to the remaining days of the contract. Thus, even though the funding fee extreme high at the tail of contract, the basis would still gradually converge to zero.</p>
<p>However, the kind information is not that useful for trading. We also plot the basis vs the accumulation of funding rate. The accumulation of funding rate is calculated as the sum of funding rate from today until the expiration date.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>However, the correlation between fear index and basis is not that obvious due to the expiration date of contract. As mentioned in the introduction, the value of basis is highly related to the remaining days of the contract.</p>
<p>From the Figures, we can tell that the sudden drop of the fear index would not be a</p>
</div>
<div id="consecutive-extreme-market-days-vs-funding-rate" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Consecutive extreme market days vs funding rate</h3>
<p>####Consecutive Fear days vs funding rate
<img src="figures/Result/Consecutive_fear_funding.png" width="392" />
Not so obvious, but still can see longer days, lower funding rate</p>
</div>
<div id="consecutive-greed-days-vs-funding-rate" class="section level3" number="5.2.4">
<h3><span class="header-section-number">5.2.4</span> Consecutive greed days vs funding rate</h3>
<p><img src="figures/Result/Consecutive_greed_funding.png" width="392" /></p>
<p>Not so obvious, but still can see longer days, larger funding rate</p>
</div>
</div>
<div id="basis" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Basis</h2>
<p>The main idea of our trading strategy is to predict is the basis is on bottom or top. We explore basis from three different aspects: fear index, annual Basis and Volatility.</p>
<div id="fear-index-vs-basis" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Fear index vs Basis</h3>
<p><img src="figures/Result/200626_exp.png" width="400" /></p>
<p><img src="figures/Result/200925_exp.png" width="400" /></p>
<p><img src="figures/Result/201225_exp.png" width="400" /></p>
<p><img src="figures/Result/210326_exp.png" width="400" /></p>
<p><img src="figures/Result/volatility_histogram.png" width="392" />
## Model:</p>
</div>
<div id="run-model" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Run Model</h3>
<p>Base on our model, we can tell you the right point to open the position (without info leaking)</p>
<p><img src="figures/Result/strategy_decision_200626.png" width="350" /></p>
<p><img src="figures/Result/strategy_decision_200925.png" width="350" /></p>
<p><img src="figures/Result/strategy_decision_201225.png" width="350" /></p>
<p><img src="figures/Result/strategy_decision_210326.png" width="350" /></p>
<p><img src="figures/Result/strategy_decision_210924.png" width="350" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="missing-values.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interactive-component.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/boquanSun/btcStrategy/edit/main/05-results.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/boquanSun/btcStrategy/blob/main/05-results.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
